{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base",
    ":dependencyDashboard",
    "schedule:weekends",
    ":semanticCommits",
    ":enableVulnerabilityAlerts",
    ":automergePatch",
    ":automergeMinor",
    ":separatePatchReleases"
  ],
  "timezone": "Europe/London",
  "dependencyDashboardTitle": "Dependency Dashboard",
  "labels": ["dependencies"],
  "rangeStrategy": "pin",
  "rebaseWhen": "behind-base-branch",
  "prConcurrentLimit": 5,
  "prHourlyLimit": 2,
  "stabilityDays": 3,
  
  "packageRules": [
    {
      "matchUpdateTypes": ["minor", "patch", "pin", "digest"],
      "automerge": true
    },
    {
      "matchUpdateTypes": ["major"],
      "labels": ["dependencies", "breaking"],
      "stabilityDays": 7
    },
    {
      "matchDepTypes": ["devDependencies"],
      "automerge": true
    },
    
    // Docker related rules
    {
      "matchDatasources": ["docker"],
      "labels": ["docker-update"]
    },
    
    // Android related rules
    {
      "matchCategories": ["android"],
      "matchManagers": ["gradle", "gradle-wrapper"],
      "groupName": "android dependencies",
      "labels": ["android"]
    },
    {
      "matchPackagePatterns": ["^com.android", "^androidx", "^com.google.android"],
      "groupName": "android core dependencies",
      "stabilityDays": 7
    },
    
    // iOS related rules
    {
      "matchDatasources": ["swift", "pod"],
      "groupName": "iOS dependencies",
      "labels": ["ios"],
      "stabilityDays": 5
    },
    
    // Flutter/Dart related rules
    {
      "matchDatasources": ["dart", "pub"],
      "groupName": "Flutter dependencies",
      "labels": ["flutter", "dart"]
    },
    
    // JavaScript/TypeScript related rules
    {
      "matchPackagePatterns": ["^@types/"],
      "groupName": "TypeScript type definitions",
      "automerge": true
    },
    
    // React related rules
    {
      "matchPackagePatterns": ["^react", "^@react"],
      "groupName": "React packages",
      "labels": ["react"]
    },
    
    // React Native related rules
    {
      "matchPackagePatterns": ["^react-native", "^@react-native"],
      "groupName": "React Native packages",
      "labels": ["react-native"]
    },
    
    // Vue related rules
    {
      "matchPackagePatterns": ["^vue", "^@vue", "^nuxt", "^@nuxt"],
      "groupName": "Vue packages",
      "labels": ["vue"]
    },
    
    // Linting & Testing related rules
    {
      "matchPackagePatterns": ["eslint", "prettier"],
      "groupName": "Linting packages",
      "labels": ["linting"]
    },
    {
      "matchPackagePatterns": ["jest", "testing"],
      "groupName": "Testing packages",
      "labels": ["testing"]
    },
    
    // Bun related rules
    {
      "matchManagers": ["npm"],
      "matchPackageNames": ["bun", "bun-types"],
      "groupName": "Bun packages",
      "labels": ["bun"]
    },
    
    // PHP related rules
    {
      "matchDatasources": ["packagist"],
      "labels": ["php"]
    },
    {
      "matchPackagePatterns": ["^laravel", "^illuminate"],
      "groupName": "Laravel packages",
      "labels": ["laravel"]
    },
    {
      "matchPackagePatterns": ["^symfony"],
      "groupName": "Symfony packages",
      "labels": ["symfony"]
    },
    
    // DevContainer support
    {
      "matchManagers": ["devcontainer"],
      "labels": ["devcontainer"]
    },
    
    // Python related rules
    {
      "matchManagers": ["pip_requirements", "pip_setup", "pipenv", "poetry", "pep621", "setup-cfg"],
      "groupName": "Python dependencies",
      "labels": ["python"]
    },
    {
      "matchPackagePatterns": ["^django"],
      "groupName": "Django packages",
      "labels": ["django"]
    },
    {
      "matchPackagePatterns": ["^flask"],
      "groupName": "Flask packages",
      "labels": ["flask"]
    },
    {
      "matchPackagePatterns": ["^pytest"],
      "groupName": "Python testing packages",
      "labels": ["python-testing"]
    }
  ],
  
  // Manager configurations
  "docker": {
    "enabled": true,
    "pinDigests": true
  },
  
  "gradle": {
    "fileMatch": ["^build\\.gradle$", "^build\\.gradle\\.kts$", "^settings\\.gradle\\.kts$", "^settings\\.gradle$"]
  },
  
  "swift": {
    "enabled": true
  },
  
  "cocoapods": {
    "enabled": true
  },
  
  "dart": {
    "enabled": true
  },
  
  "flutter": {
    "enabled": true
  },
  
  "composer": {
    "enabled": true,
    "fileMatch": ["(^|/)composer\\.json$"]
  },
  
  "npm": {
    "fileMatch": ["(^|/)package\\.json$", "(^|/)pnpm-lock\\.yaml$", "(^|/)bun\\.lockb$"]
  },
  
  "devcontainer": {
    "enabled": true
  },
  
  // Python manager configurations
  "pip_requirements": {
    "enabled": true,
    "fileMatch": ["(^|/)requirements\\.txt$", "(^|/)requirements/.*\\.txt$", "(^|/)requirements-.*\\.txt$"]
  },
  "pip_setup": {
    "enabled": true
  },
  "pipenv": {
    "enabled": true
  },
  "poetry": {
    "enabled": true
  },
  "pep621": {
    "enabled": true
  },
  "setup-cfg": {
    "enabled": true
  },
  
  "lockFileMaintenance": {
    "enabled": true,
    "schedule": ["before 5am on monday"]
  },
  
  // Ignore specific paths
  "ignorePaths": [
    "**/ios/Pods/**", 
    "**/android/.gradle/**",
    "**/node_modules/**",
    "**/vendor/**",
    "**/.cache/**",
    "**/dist/**",
    "**/build/**"
  ]
}
